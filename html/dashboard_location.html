<!--<!DOCTYPE html>
<!--[if lt IE 7 ]><html class="ie ie6" lang="en"> <![endif]-->
<!--[if IE 7 ]><html class="ie ie7" lang="en"> <![endif]-->
<!--[if IE 8 ]><html class="ie ie8" lang="en"> <![endif]-->
<!--[if (gte IE 9)|!(IE)]><!-->
    <html lang="en">
        <!--<![endif]-->
        <head>
            <!-- Basic Page Needs
              ================================================== -->
            <meta charset="utf-8">
            <title>KwikPay Dashboard</title>
            <!-- SEO Meta
              ================================================== -->
            <meta http-equiv="X-UA-Compatible" content="IE=edge" />
            <meta name="description" content="">
            <meta name="keywords" content="">
            <meta name="distribution" content="global">
            <meta name="revisit-after" content="2 Days">
            <meta name="robots" content="ALL">
            <meta name="rating" content="8 YEARS">
            <meta name="Language" content="en-us">
            <meta http-equiv="reply-to" content="">
            <meta name="GOOGLEBOT" content="NOARCHIVE">
            <!-- Mobile Specific Metas
              ================================================== -->
            <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
            <!-- CSS
              ================================================== -->
            <link rel="stylesheet" href="css/style.css">
            <link rel="stylesheet" href="css/custom-style.css">
            <link rel="stylesheet" href="css/font-awesome.min.css">
        
            <link rel="stylesheet" href="https://code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">
            <link rel="stylesheet" href="https://cdn.datatables.net/1.10.20/css/dataTables.jqueryui.min.css">
        
            <link href="https://fonts.googleapis.com/css?family=Signika:300,400,700&display=swap" rel="stylesheet">
            <link rel="stylesheet" href="css/jquery.mCustomScrollbar.css">
            <link rel="stylesheet" type="text/css" media="all" href="css/daterangepicker.css" />
        
        
        
        
            <!--[if lt IE 9]>
                    <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
                <![endif]-->
            <!-- Favicons
                ================================================== -->
            <link rel="shortcut icon" href="images/favicon.ico">
            <link rel="apple-touch-icon" href="images/apple-touch-icon.png">
            <link rel="apple-touch-icon" sizes="72x72" href="images/apple-touch-icon-72x72.png">
            <link rel="apple-touch-icon" sizes="114x114" href="images/apple-touch-icon-114x114.png">
            <!--[if gte IE 9]>
                  <style type="text/css">
                    .gradient {
                       filter: none;
                    }
                  </style>
                <![endif]-->
            <!-- JS
                ================================================== -->
        
            <script src="js/jquery-1.9.1.min.js"></script>
            <script type="text/javascript" src="js/moment.min.js"></script>
            <script type="text/javascript" src="js/dp.js"></script>
        
        
        </head>
        <body>
            <!-- HEADER START -->
            <!-- HEADER END -->
            <!-- CONTAINER START -->
        
            <section>
                <div class="content">
        
                    <div class="row_content">
                        <div class="sidebar_left contentscroll mCustomScrollbar">
                            <div class="left_logo">
                                <a href="#"><img src="images/logo-2.png" /></a>
                            </div>
                            <div class="sidebar_left_menu">
                                <h3>Provider Details<span class="plusminus">-</span></h3>
                                <ul style="display: block;">
                                    <li><a href="#">Provider Details</a></li>
                                    <li><a href="#">Free ride definition</a></li>
                                    <li><a href="#">Free ride duration</a></li>
                                </ul>
                                <h3>Amusement locations <span class="plusminus">+</span></h3>
                                <ul>
                                    <li><a href="#">Amusement locations</a></li>
                                </ul>
        
                                <h3>Sales Data<span class="plusminus">+</span></h3>
                                <ul>
                                    <li><a href="#">Payment transaction</a></li>
                                    <li><a href="#">App transaction data</a></li>
                                    <li><a href="#">Cash collection data</a></li>
                                </ul>
                                <h3>Charts<span class="plusminus">+</span></h3>
                                <ul>
                                    <li><a href="#">Dashboard</a></li>
                                    <li><a href="#">Machine charts</a></li>
                                </ul>
                                <h3>Reports<span class="plusminus">+</span></h3>
                                <ul>
                                    <li><a href="#">Report</a></li>
                                    <li><a href="#">Consolidated report</a></li>
                                </ul>
                            </div>
                        </div>
                        <div class="right_wrapper_content">
                            <div class="top_bar">
                                <div class="top_bar_left">
                                    <p>Good afternoon! Game on   Today's Date : 2/12/2019 12:58:27 PM</p>
                                </div>
                                <div class="top_bar_right">
                                    <div class="top_bar_menu">
                                        <a href="#"><span><img src="images/top_icon.png" /></span><i class="fa fa-chevron-down"></i></a>
                                        <ul class="top_bar_down">
                                            <li><a href="#">My profile</a></li>
                                            <li><a href="#">Contact us</a></li>
                                            <li><a href="#">Logout</a></li>
                                        </ul>
                                    </div>
                                </div>
        
                            </div>
                            <div class="wrapper_dashboard_scroll contentscroll mCustomScrollbar">
                                <div class="wrapper_dashboard ">
                                    <div class="titel_location titel_location_noicon"><h1>Dashboard All Location</h1></div>
                                    <div class="inputpicker_content_box button_location_right">
                                        <div class="input_picker_dashboard">
                                            <input type="text" class="form-control demo_picker" />
                                        </div>
                                    </div>
                                    <div class="clear"></div>
                                    <div class="new_location_form1">
                                        <div class="dashboard_row_clear">
                                            <div class="dashboard_left_text1">
                                                <h3>Yesterday - 20/11/2019  </h3>
                                                <div class="dashboard_box_padding">
                                                    <div class="dashboard_center_padding">
                                                        <h4>Active machine</h4>
                                                        <h5>5/10</h5>
                                                    </div>
                                                </div>
                                                <div class="dashboard_box_padding active">
                                                    <div class="dashboard_center_padding">
                                                        <h4>No. of transaction</h4>
                                                        <h5>1,000</h5>
                                                    </div>
                                                </div>
                                                <div class="dashboard_box_padding">
                                                    <div class="dashboard_center_padding">
                                                        <h4>Sales</h4>
                                                        <h5><strong>£ </strong> 100</h5>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="dashboard_right_text1">
        
                                                <h3>Current month - <span class="st_date">1/11/2019</span> - <span class="ed_date">25/11/2019</span>   </h3>
                                                <div class="dashboard_box_padding">
                                                    <div class="dashboard_center_padding">
                                                        <h4>Active machine</h4>
                                                        <h5><strong>~ </strong> 5/10</h5>
                                                    </div>
                                                </div>
                                                <div class="dashboard_box_padding">
                                                    <div class="dashboard_center_padding">
                                                        <h4>No. of transaction</h4>
                                                        <h5><strong>~ </strong> 1,000</h5>
                                                    </div>
                                                </div>
                                                <div class="dashboard_box_padding">
                                                    <div class="dashboard_center_padding">
                                                        <h4>Sales</h4>
                                                        <h5><strong>£ </strong> 100</h5>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="dashboard_row_clear">
                                            <div class="dashboard_chartholder_left">
                                                <div class="dashboard_piechart_left" >
                                                    <div class="canvas_piechart" id = 'canvas_piechart1'>
                                                        <canvas id="pieChart1" height="360" width="360"></canvas>
                                                    </div>
                                                </div>
                                                <div class="dashboard_piechart_right flex flex-column" id='mainPieRightDiv'>
                                                    <div class="canvas_piechart" id='canvas_piechart'>
                                                        <canvas id="pieChart" height="360" width="360"></canvas>
                                                    </div>
        
                                                    <div class="dashboard_machine_margin">
                                                        <h2>Top 5 machine</h2>
                                                        <ul class="dashboard_machine_link">
                                                            <li class="color_bgbox1"><span></span> Ring toss</li>
                                                            <li class="color_bgbox2"><span></span> Cruish blast</li>
                                                            <li class="color_bgbox3"><span></span> Air hockey</li>
                                                            <li class="color_bgbox4"><span></span> Peppa pig</li>
                                                            <li class="color_bgbox5"><span></span> Quikdrop</li>
                                                        </ul>
                                                    </div>
        
                                                </div>
        
        
                                            </div>
                                            <div class="dashboard_chartholder_right">
                                                <div>
                                                    <!-- <div class="dashboard_filter_right ml-10">
                                                        <div class="custom-select">
                                                            <select  id='locations'>
                                                                <option value="0" selected>All Location</option>
                                                                <option value="all">All Location</option>
                                                                <option value="New York">New York</option>
                                                                <option value="southsea arcade">Southsea</option>
                                                            </select>
                                                        </div>
                                                    </div> -->
                                                    <div class="dashboard_filter_right">
                                                        <div class="custom-select">
                                                            <select id='dashboard_select'>
                                                                <option value="0" selected>Filter by location </option>
                                                                <option value="1">Filter by location </option>
                                                                <option value="2">Filter by machine </option>
                                                            </select>
                                                        </div>
                                                    </div>
                                                </div>
                                                
        
                                                <div class="dashboard_weekly_right">
                                                    <div class="dashboard_weekly_titel1">
                                                        <h3>Weekly Sales / Cash Drop</h3>
                                                        <ul>
                                                            <li class="cash_sales_icon1"><span></span>App sales</li>
                                                            <li class="cash_sales_icon2"><span></span>Cash sales</li>
                                                            <li class="cash_sales_icon3"><span></span>Contactless sales</li>
                                                        </ul>
                                                    </div>
                                                    <div class="dashboard_current_left1" id='parent_lineChart'>
                                                        <canvas id="lineChart" height="250"></canvas>
                                                    </div>
                                                    <div class="dashboard_current_right1">
        
                                                        <canvas id="barChart" height="250"></canvas>
                                                    </div>
                                                </div>
        
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
        
                </div>
        
            </section>
            <!-- CONTAINER END -->
            <!-- FOOTER START -->
        
            <footer> </footer>
        
            <!-- FOOTER END -->
        
        </body>
        
        
        <script src="js/jquery.mCustomScrollbar.concat.min.js"></script>
        <script src="js/jquery.dataTables.min.js"></script>
        <script src="js/dataTables.jqueryui.min.js "></script>
        
        
        
        
        <script src="js/app.config.js"></script>
        
        
        
        <script src="js/bootstrap.min.js"></script>
        
        
        <script src="js/app.min.js"></script>
        
        
        <!-- <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.9.3/Chart.min.js"></script> -->
        <script src="js/chart.min.js"></script>
        
        <!--<script type="text/javascript" src="js/daterangepicker.js"></script>-->
        <script type="text/javascript" src="js/dp.js"></script>
        <script type="text/javascript" src="js/app.js"></script>
        
        <script>
        
        
            $(document).ready(function () {
                $('#example').DataTable();
            });
        
            (function ($) {
                $(window).on("load", function () {
        
                    $("a[rel='load-content']").click(function (e) {
                        e.preventDefault();
                        var url = $(this).attr("href");
                        $.get(url, function (data) {
                            $(".contentscroll .mCSB_container").append(data); //load new content inside .mCSB_container
                            //scroll-to appended content
                            $(".contentscroll").mCustomScrollbar("scrollTo", "h2:last");
                        });
                    });
        
                    $(".contentscroll").delegate("a[href='top']", "click", function (e) {
                        e.preventDefault();
                        $(".contentscroll").mCustomScrollbar("scrollTo", $(this).attr("href"));
                    });
        
                });
            })(jQuery);
        
        
            $(document).ready(function () {
                $('#startDate').daterangepicker({
                    singleDatePicker: true,
        
                });
        
        
                var x, i, j, selElmnt, a, b, c;
                /*look for any elements with the class "custom-select":*/
                x = document.getElementsByClassName("custom-select");
                for (i = 0; i < x.length; i++) {
                    selElmnt = x[i].getElementsByTagName("select")[0];
                    /*for each element, create a new DIV that will act as the selected item:*/
                    a = document.createElement("DIV");
                    a.setAttribute("class", "select-selected");
                    a.innerHTML = selElmnt.options[selElmnt.selectedIndex].innerHTML;
                    x[i].appendChild(a);
                    /*for each element, create a new DIV that will contain the option list:*/
                    b = document.createElement("DIV");
                    b.setAttribute("class", "select-items select-hide");
                    for (j = 1; j < selElmnt.length; j++) {
                        /*for each option in the original select element,
                        create a new DIV that will act as an option item:*/
                        c = document.createElement("DIV");
                        c.innerHTML = selElmnt.options[j].innerHTML;
                        c.addEventListener("click", function (e) {
                            /*when an item is clicked, update the original select box,
                            and the selected item:*/
                            var y, i, k, s, h;
                            s = this.parentNode.parentNode.getElementsByTagName("select")[0];
                            h = this.parentNode.previousSibling;
                            for (i = 0; i < s.length; i++) {
                                if (s.options[i].innerHTML == this.innerHTML) {
                                    s.selectedIndex = i;
                                    h.innerHTML = this.innerHTML;
                                    y = this.parentNode.getElementsByClassName("same-as-selected");
                                    for (k = 0; k < y.length; k++) {
                                        y[k].removeAttribute("class");
                                    }
                                    this.setAttribute("class", "same-as-selected");
                                    break;
                                }
                            }
                            h.click();
                        });
                        b.appendChild(c);
                    }
                    x[i].appendChild(b);
                    a.addEventListener("click", function (e) {
                        /*when the select box is clicked, close any other select boxes,
                        and open/close the current select box:*/
                        e.stopPropagation();
                        closeAllSelect(this);
                        this.nextSibling.classList.toggle("select-hide");
                        this.classList.toggle("select-arrow-active");
                    });
                }
                function closeAllSelect(elmnt) {
                    /*a function that will close all select boxes in the document,
                    except the current select box:*/
                    var x, y, i, arrNo = [];
                    x = document.getElementsByClassName("select-items");
                    y = document.getElementsByClassName("select-selected");
                    for (i = 0; i < y.length; i++) {
                        if (elmnt == y[i]) {
                            arrNo.push(i)
                        } else {
                            y[i].classList.remove("select-arrow-active");
                        }
                    }
                    for (i = 0; i < x.length; i++) {
                        if (arrNo.indexOf(i)) {
                            x[i].classList.add("select-hide");
                        }
                    }
                }
                /*if the user clicks anywhere outside the select box,
                then close all select boxes:*/
                document.addEventListener("click", closeAllSelect);

        
                $('.demo_picker').daterangepicker({
        startDate: moment().subtract(29, 'days'),
        endDate: moment(),
        showCustomRangeLabel: false,
        "ranges": {
            'Last 30 Days': [ moment().subtract(29, 'days'), moment() ],
            '3 Month': [ moment().subtract(3, 'month'), moment() ],
            '6 Month': [ moment().subtract(6, 'month'), moment() ],
        },
    }, async (start, end, label) => {
        //console.log( document.getElementById('canvas_piechart'))
        //document.getElementById('canvas_piechart').remove()
        let isCompressed = false;
        let dayName = null
        const {ctx, pieCtx, pieCtx1} = window.machineChart.createCanvas();
        switch (label) {
            case 'Last 30 Days':
                dayName = '30DAYS';
                isCompressed = true;
                break;
            case '3 Month':
                dayName = '3MONTH';
                isCompressed = true;
                break;
            case '6 Month':
                dayName = '6MONTH';
                isCompressed = true;
                break;
            default:
                dayName = '30DAYS';
                break;
        }
        await window.machineChart.getDateRange(start, end, dayName, isCompressed);
        
        window.machineChart.updateData = { start, end, dayName, isCompressed };
       
        // myNewChart.update();
        const myNewChart = new Chart(ctx).Line(machineChart.lineData, window.lineOptions);
        const myNewChart1 = new Chart(pieCtx).Pie(machineChart.pieDataMachines, window.pieOptions);
        const myNewChart2 = new Chart(pieCtx1).Pie(machineChart.pieDataAllMachines, window.pieOptions);
        // const myNewChart = new Chart(ctx, {
        //     type: 'line',
        //     data: window.machineChart.lineData,
        //     options: window.lineOptions
        // });
    });
            });
        </script>
        
        <script type="text/javascript">
            (async () => {
              
                function MachineChart(skip) {
                    this.appSales = 0;
                    this.cashSales = 0;
                    this.contactlessSales = 0;
                    this.res = null;
                    this.dates = null;
                    this.lineData = null;
                    this.skip = skip;
                    this.machineList = [];
                    this.monthsName = ["Jan", "Feb",'Mar', "Apr", 'May', "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"]
        
                    this.getMs = function (date) {
                        return new Date(date).setHours(0, 0, 0, 0);
                    }
                    this.getCorrectDateFormat = function (date) {
                        date = new Date(date);
                        return ('0' + (date.getDate())).slice(-2)  + '-' + this.monthsName[date.getMonth()] + '-' + (date.getFullYear()+ '').slice(2);
                    }
                    this.fetchData = async function (name) {
        
                        const reqBody = JSON.stringify({
                            "APISERVICE": 'KP_AMUSEMENT_'+  name + '_CHART_DATA',
                            "LOGIN_USER_ID": "7"
                        })
                        const response = await fetch('https://api.kwikpay.be/kwikpayapi/jsonrequest', {
                            method: 'POST',
                            header: 'Content-Type: application/json',
                            body: reqBody
                        });
                        return await response.json();
                    }
                    this.createLoader = function () {
                        const parentNode = document.getElementById('parent_lineChart')
                        //this.createPieDiv()
                        const canvas_piechart =  document.getElementById('canvas_piechart')
                        const canvas_piechart1 = document.getElementById('canvas_piechart1')
                        parentNode.style.position = 'relative';
                        canvas_piechart.style.position = 'relative';
                        canvas_piechart1.style.position = 'relative';
                        const spinner = document.createElement('img')
                        const spinner1 = document.createElement('img')
                        const spinner2 = document.createElement('img')
                        spinner1.id = 'loader1'
                        spinner1.style.position = 'absolute'
                        spinner1.style.top = '50%'
                        spinner1.style.left = '50%'
                        spinner1.style.width = '50px'
                        spinner1.style.height = '50px'
                        spinner1.style.transform = 'translate(-50%, -50%)'
                        spinner1.src = './images/spinner.gif'
                        spinner2.id = 'loader2'
                        spinner2.style.position = 'absolute'
                        spinner2.style.top = '50%'
                        spinner2.style.left = '50%'
                        spinner2.style.width = '50px'
                        spinner2.style.height = '50px'
                        spinner2.style.transform = 'translate(-50%, -50%)'
                        spinner2.src = './images/spinner.gif'
                        canvas_piechart.appendChild(spinner1)
                        canvas_piechart1.appendChild(spinner2)
                        spinner.id = 'loader'
                        spinner.style.position = 'absolute'
                        spinner.style.top = '50%'
                        spinner.style.left = '50%'
                        spinner.style.width = '50px'
                        spinner.style.height = '50px'
                        spinner.style.transform = 'translate(-50%, -50%)'
                        spinner.src = './images/spinner.gif'
                        parentNode.appendChild(spinner)
                    }
                    // this.createPieDiv = function() {
                    //     const pieDiv = document.createElement("div");
                    //     pieDiv.style.position = 'relative';
                    //     pieDiv.className = 'canvas_piechart';
                    //     pieDiv.id = 'canvas_piechart';
                    //     const pieCanvas = document.createElement("canvas");
                    //     pieCanvas.id = 'pieChart'
                    //     pieCanvas.style.height = 180
                    //     pieCanvas.style.width = 180
                    //     pieDiv.appendChild(pieCanvas);     
                    //     document.getElementById('mainPieRightDiv').appendChild(pieDiv);      
                    // }
                    this.deleteLoader = function () {
                        document.getElementById('loader').remove()
                        document.getElementById('loader1').remove()
                        document.getElementById('loader2').remove()
                    }
                    this.getDateRange = async function (start, end, name, isCompressed) {
        
                        this.dates = this.generateDataObject(this.getMs(start), this.getMs(end), {
                            APP_SALES: 0,
                            CASH_SALES: 0,
                            CONTACTLESS_SALES: 0
                        });
                        this.createLoader()
                        try {
                            this.res = await this.fetchData(name);
                            const filterData = this.filterByLocation()
                            this.topFive(filterData)
                            this.pieChartAllMachines(filterData)
                           this.deleteLoader();
                            this.createMachineList();
                            this.displayData(isCompressed, start, true);
                        } catch (e) {
                           this.deleteLoader();
                            setTimeout(() => {
                                alert('Error in Api')
                            }, 0)
                        }
                    }

                    this.filterByLocation = function() {
                        console.log(12432)
                        const fitlerData = this.res.KPRESPONSE.CHART_DATA_LIST.filter((el) => el.LOCATION_NAME === "southsea arcade")
                        return fitlerData
                    } 

                    this.topFive = function(filterData) {
                        let result = {}
                        filterData.forEach((machine) => {
                             
                            if(machine.MACHINE_NUMBER in result)  {
                                return result[machine.MACHINE_NUMBER] = {...result[machine.MACHINE_NUMBER], SUM: Number(result[machine.MACHINE_NUMBER].SUM || 0)  + Number(machine.CASH_SALES) + Number(machine.APP_SALES) + Number(machine.CONTACTLESS_SALES)}
                            }
                            else return result[machine.MACHINE_NUMBER] = machine
                        })
                        const arr = Object.values(result).sort((a,b) => Number(a.SUM) > Number(b.SUM)  ? -1 : 1 ).slice(0, 5)
                        const pieData = [
                            {
                                value: arr[0].SUM,
                                color: "#CAF27D",
                                highlight: "#CAF27D",
                                //label: arr[0].MACHINE_NAME
                            },
                            {
                                value: arr[1].SUM,
                                color: "#D9F4B0",
                                highlight: "#D9F4B0",
                                //label: arr[1].MACHINE_NAME
                            },
                            {
                                value: arr[2].SUM,
                                color: "#FFFFFF",
                                highlight: "#FFFFFF",
                                //label: arr[2].MACHINE_NAME
                            },
                            {
                                value: arr[3].SUM,
                                color: "#00581E",
                                highlight: "#00581E",
                                //label: arr[3].MACHINE_NAME
                            },
                            {
                                value: arr[4].SUM,
                                color: "#8CD600",
                                highlight: "#8CD600",
                                //label: arr[4].MACHINE_NAME
                            }
                        ];
                        this.pieDataMachines = pieData
                        // this.res.KPRESPONSE.CHART_DATA_LIST.sort((a,b) => Number(a.CASH_SALES) > Number(b.CASH_SALES)  ? -1 : 1 )
                    }

                    this.pieChartAllMachines = function(filterData) {
                        let result = {
                            APP_CONTACTLESS_SALES: 0,
                            CASH_SALES: 0
                        }
                        filterData.map((machine) => {
                            return result = {...result, APP_CONTACTLESS_SALES: Number(result['APP_CONTACTLESS_SALES']) + Number(machine.APP_SALES) + Number(machine.CONTACTLESS_SALES), CASH_SALES:Number(result['CASH_SALES']) + Number(machine.CASH_SALES)}
                        })      
                        const pieData = [
                            {
                                value: result.APP_CONTACTLESS_SALES,
                                color: "#CAF27D",
                                highlight: "#CAF27D",
                                //label: arr[0].MACHINE_NAME
                            },
                            {
                                value: result.CASH_SALES,
                                color: "#D9F4B0",
                                highlight: "#D9F4B0",
                                //label: arr[1].MACHINE_NAME
                            },
                        ];
                        this.pieDataAllMachines = pieData
                    }

                    this.generateDataObject = function (start, end, param) {
                        let daysBetween = 0;
                        daysBetween = Math.round((end - start) / 86400000) + 1;
                        const generateData = new Array(daysBetween).fill();
                        let dates = {};
                        let currentDate = start;
                        generateData.map((el, index) => {
                            dates = {
                                ...dates,
                                [this.getCorrectDateFormat(currentDate)]: param
                            }
                            currentDate += 86400000
                        })
                        return dates;
                    }
                    this.createMachineList = function () {
                        const map = new Map();
                        for (const item of this.res.KPRESPONSE.CHART_DATA_LIST) {
                            if (!map.has(item.MACHINE_NUMBER)) {
                                map.set(item.MACHINE_NUMBER, true);
                                this.machineList.push({
                                    ...item
                                });
                            }
                        }
        
                       
        
                    }
                    this.redoneData = function (initialData) {
                        let newDate = {};
                        const dateLength = Object.keys(this.dates).length;
                        Object.keys(this.dates).reduce((a, b, index) => {
                                if (index % this.skip === 0 && index !== 0) {
                                    newDate = {
                                        ...newDate,
                                        [a]: {
                                            APP_SALES: newDate[a].APP_SALES / this.skip,
                                            CASH_SALES: newDate[a].CASH_SALES / this.skip,
                                            CONTACTLESS_SALES: newDate[a].CONTACTLESS_SALES / this.skip
                                        }
                                    }
                                    a = b
                                }
                                if (index % this.skip !== 0 && dateLength - 1 === index) {
                                    newDate = {
                                        ...newDate,
                                        [a]: {
                                            APP_SALES: newDate[a].APP_SALES / ((dateLength - 1) % this.skip),
                                            CASH_SALES: newDate[a].CASH_SALES / ((dateLength - 1) % this.skip),
                                            CONTACTLESS_SALES: newDate[a].CONTACTLESS_SALES / (dateLength - 1 %
                                                this.skip)
                                        }
                                    }
                                    a = b
                                }
                                newDate = {
                                    ...newDate,
                                    [a]: {
                                        APP_SALES: newDate[a] === undefined ? this.dates[b].APP_SALES :
                                            newDate[a].APP_SALES + this.dates[b].APP_SALES,
                                        CASH_SALES: newDate[a] === undefined ? this.dates[b].CASH_SALES :
                                            newDate[a].CASH_SALES + this.dates[b].CASH_SALES,
                                        CONTACTLESS_SALES: newDate[a] === undefined ? this.dates[b]
                                            .CONTACTLESS_SALES : newDate[a].CONTACTLESS_SALES + this.dates[b]
                                            .CONTACTLESS_SALES
                                    }
        
                                }
                                return a
                            },
                            this.getCorrectDateFormat(this.getMs(initialData))
                        );
                        return newDate
                    }
                    this.displayData = function (isCompressed, initialData, flag) {
                        if (flag) {
                            this.res.KPRESPONSE.CHART_DATA_LIST.map((el) => {
                                Object.keys(this.dates).map((item) => {
                                    if (item === el.TXN_DATE) {
                                        return this.dates = {
                                            ...this.dates,
                                            [item]: {
                                                APP_SALES: +this.dates[item].APP_SALES + +el.APP_SALES,
                                                CASH_SALES: +this.dates[item].CASH_SALES + +el
                                                    .CASH_SALES,
                                                CONTACTLESS_SALES: +this.dates[item]
                                                    .CONTACTLESS_SALES + +el.CONTACTLESS_SALES,
                                            }
                                        }
                                    }
                                })
                            });
                        }
                        if (isCompressed) this.dates = this.redoneData(initialData);
                        this.appSales = Object.keys(this.dates).map(el => this.dates[el].APP_SALES);
                        this.cashSales = Object.keys(this.dates).map(el => this.dates[el].CASH_SALES);
                        this.contactlessSales = Object.keys(this.dates).map(el => this.dates[el].CONTACTLESS_SALES);
                        this.sumSales = Object.keys(this.dates).map(el => this.dates[el].CONTACTLESS_SALES + this.dates[el].APP_SALES + this.dates[el].CASH_SALES);
                        this.lineData = {
                            labels: Object.keys(this.dates),
                            datasets: [ {
                                label: "My First dataset",
                                fillColor: "rgba(0,0,0,0)",
                                strokeColor: "#00581E",
                                pointColor: "#00581E",
                                pointStrokeColor: "#00581E",
                                pointHighlightFill: "#00581E",
                                pointHighlightStroke: "#00581E",
                                data: this.appSales
                            },
                                {
                                    label: "My Second dataset",
                                    fillColor: "rgba(0,0,0,0)",
                                    strokeColor: "#FFB200",
                                    pointColor: "#FFB200",
                                    pointStrokeColor: "#FFB200",
                                    pointHighlightFill: "#FFB200",
                                    pointHighlightStroke: "#FFB200",
                                    data: this.cashSales
                                },
                                {
                                    label: "My Second dataset",
                                    fillColor: "rgba(0,0,0,0)",
                                    strokeColor: "#8CD600",
                                    pointColor: "#8CD600",
                                    pointStrokeColor: "#8CD600",
                                    pointHighlightFill: "#8CD600",
                                    pointHighlightStroke: "#8CD600",
                                    data: this.contactlessSales
                                },
                                {
                                    label: "My Second dataset",
                                    fillColor: "rgba(0,0,0,0)",
                                    strokeColor: "#e64312",
                                    pointColor: "#e64312",
                                    pointStrokeColor: "#e64312",
                                    pointHighlightFill: "#e64312",
                                    pointHighlightStroke: "#e64312",
                                    data: this.sumSales
                                }
                            ]
                        };
                    }
                    this.displayOneMachineData = async function (machineNumber) {
                        let machine = this.machineList.find(item => item.MACHINE_NUMBER == machineNumber);
                        this.res.KPRESPONSE.CHART_DATA_LIST.map((el) => {
                            Object.keys(this.dates).map(item => {
                                if (item === el.TXN_DATE && el.MACHINE_NUMBER === machine.MACHINE_NUMBER) {
                                    return this.dates = {
                                        ...this.dates,
                                        [item]: {
                                            APP_SALES: +el.APP_SALES,
                                            CASH_SALES: +el.CASH_SALES,
                                            CONTACTLESS_SALES: +el.CONTACTLESS_SALES,
                                        }
                                    }
                                }
                            });
                        });
                        let { ctx } = this.createCanvas();
                        this.displayData(false, '2020-01-01', false);
                        const myNewChart = new Chart(ctx, {
                            type: 'line',
                            data: window.machineChart.lineData,
                            options: window.lineOptions
                        });
                    }
                    this.createCanvas = function () {
                        document.getElementById("lineChart").remove();
                        const canvas = document.createElement('canvas');
                        canvas.id = 'lineChart';
                        canvas.height = 250;
                        canvas.style.resize = 'both';
                        const div = document.getElementById("parent_lineChart").appendChild(canvas);
                        const ctx = document.getElementById('lineChart').getContext('2d');
                        document.getElementById("pieChart").remove();
                        document.getElementById("pieChart1").remove();
                        const pieCanvas = document.createElement('canvas');
                        const pieCanvas1 = document.createElement('canvas');
                        pieCanvas.id = 'pieChart';
                        pieCanvas.height = 180;
                        pieCanvas.width = 180;
                        pieCanvas1.id = 'pieChart1';
                        pieCanvas1.height = 180;
                        pieCanvas1.width = 180;
                        //canvas.style.resize = 'both';
                        const pieDiv = document.getElementById("canvas_piechart").appendChild(pieCanvas);
                        const pieDiv1 = document.getElementById("canvas_piechart1").appendChild(pieCanvas1);
                        const pieCtx = document.getElementById('pieChart').getContext('2d');
                        const pieCtx1 = document.getElementById('pieChart1').getContext('2d');
                        return {ctx, pieCtx, pieCtx1};
                    }
                }
        
                const skip = 7;
                window.machineChart = new MachineChart(skip);
                //document.getElementById('canvas_piechart').remove()
                await window.machineChart.getDateRange(moment().subtract(29, 'days'), moment(), '30DAYS', true);
                window.machineChart.updateData = { start: moment().subtract(29, 'days'), end: moment(), dayName: '30DAYS' };
                
                pageSetUp()
        
                //----------------------DEPRECATED (OLD VERSION OF CHART JS)-------------------
                window.lineOptions = {
            ///Boolean - Whether grid lines are shown across the chart
            scaleShowGridLines: true,
            //String - Colour of the grid lines
            scaleGridLineColor: "rgba(0,0,0,.05)",
            //Number - Width of the grid lines
            scaleGridLineWidth: 1,
            //Boolean - Whether the line is curved between points
            bezierCurve: true,
            //Number - Tension of the bezier curve between points
            bezierCurveTension: 0.4,
            //Boolean - Whether to show a dot for each point
            pointDot: true,
            //Number - Radius of each point dot in pixels
            pointDotRadius: 4,
            //Number - Pixel width of point dot stroke
            pointDotStrokeWidth: 1,
            //Number - amount extra to add to the radius to cater for hit detection outside the drawn point
            pointHitDetectionRadius: 20,
            //Boolean - Whether to show a stroke for datasets
            datasetStroke: true,
            //Number - Pixel width of dataset stroke
            datasetStrokeWidth: 3,
            //Boolean - Whether to fill the dataset with a colour
            datasetFill: true,
            //Boolean - Re-draw chart on page resize
            responsive: true,
            //String - A legend template
        };
                //----------------------------------------
        
        
                //render chart
                // let canvas = document.getElementById("lineChart");
                // var ctx = canvas.getContext("2d");
                // var myNewChart = new Chart(ctx, {
                //     type: 'line',
                //     data: machineChart.lineData,
                //     options: window.lineOptions
                // });
                var ctx = document.getElementById("lineChart").getContext("2d");
                var myNewChart = new Chart(ctx).Line(machineChart.lineData, window.lineOptions);

                var pieOptions = {
            //Boolean - Whether we should show a stroke on each segment
            segmentShowStroke: true,
            //String - The colour of each segment stroke
            segmentStrokeColor: "#fff",
            //Number - The width of each segment stroke
            segmentStrokeWidth: 0,
            //Number - Amount of animation steps
            animationSteps: 100,
            //String - types of animation
            animationEasing: "easeOutBounce",
            //Boolean - Whether we animate the rotation of the Doughnut
            animateRotate: true,
            //Boolean - Whether we animate scaling the Doughnut from the centre
            animateScale: false,
            //Boolean - Re-draw chart on page resize
            responsive: true,
            //String - A legend template
        };



        

        // render chart
        // const pieDiv = document.createElement("div");
        // pieDiv.style.position = 'relative';
        // pieDiv.className = 'canvas_piechart';
        // pieDiv.id = 'canvas_piechart';
        // const pieCanvas = document.createElement("canvas");
        // pieCanvas.id = 'pieChart'
        // pieCanvas.style.height = 180
        // pieCanvas.style.width = 180
        // pieDiv.appendChild(pieCanvas);     
        // document.getElementById('mainPieRightDiv').appendChild(pieDiv);      
        var ctx1 = document.getElementById("pieChart").getContext("2d");
        var myNewChart1 = new Chart(ctx1).Pie(machineChart.pieDataMachines, pieOptions);

        // var pieData1 = [
        //     {
        //         value: 5000,
        //         color: "#00581E",
        //         highlight: "#00581E",
        //         label: "Grey"
        //     },
        //     {
        //         value: 2000,
        //         color: "#8CD600",
        //         highlight: "#8CD600",
        //         label: "Grey"
        //     }
        // ];
            var ctx2 = document.getElementById("pieChart1").getContext("2d");
            var myNewChart = new Chart(ctx2).Pie(machineChart.pieDataAllMachines, pieOptions);
        
            })()
        </script>
        
        
        
        <script type="text/javascript">
        
            $(document).ready(function () {
        
        
                
        
                // BAR CHART
        
                var barOptions = {
                    //Boolean - Whether the scale should start at zero, or an order of magnitude down from the lowest value
                    scaleBeginAtZero: true,
                    //Boolean - Whether grid lines are shown across the chart
                    scaleShowGridLines: true,
                    //String - Colour of the grid lines
                    scaleGridLineColor: "rgba(0,0,0,.05)",
                    //Number - Width of the grid lines
                    scaleGridLineWidth: 1,
                    //Boolean - If there is a stroke on each bar
                    barShowStroke: true,
                    //Number - Pixel width of the bar stroke
                    barStrokeWidth: 1,
                    //Number - Spacing between each of the X value sets
                    barValueSpacing: 0,
                    //Number - Spacing between data sets within X values
                    barDatasetSpacing: 0,
                    //Boolean - Re-draw chart on page resize
                    responsive: true,
                    //String - A legend template
                }
        
                var barData = {
            labels: ["1/11", "2/11", "3/11", "4/11", "5/11", "6/11", "7/11"],
            datasets: [
                {
                    label: "My First dataset",
                    fillColor: "#D9F4B0",
                    strokeColor: "#D9F4B0",
                    highlightFill: "#D9F4B0",
                    highlightStroke: "#D9F4B0",
                    data: [65, 59, 80, 81, 56, 55, 40]
                },
                {
                    label: "My Second dataset",
                    fillColor: "#8CD600",
                    strokeColor: "#8CD600",
                    highlightFill: "#8CD600",
                    highlightStroke: "#8CD600",
                    data: [28, 48, 40, 19, 86, 27, 90]
                }
            ]
        };

        // render chart
        var ctx = document.getElementById("barChart").getContext("2d");
        var myNewChart = new Chart(ctx).Bar(barData, barOptions);

        // END BAR CHART

        // PIE CHART

        var pieOptions = {
            //Boolean - Whether we should show a stroke on each segment
            segmentShowStroke: true,
            //String - The colour of each segment stroke
            segmentStrokeColor: "#fff",
            //Number - The width of each segment stroke
            segmentStrokeWidth: 0,
            //Number - Amount of animation steps
            animationSteps: 100,
            //String - types of animation
            animationEasing: "easeOutBounce",
            //Boolean - Whether we animate the rotation of the Doughnut
            animateRotate: true,
            //Boolean - Whether we animate scaling the Doughnut from the centre
            animateScale: false,
            //Boolean - Re-draw chart on page resize
            responsive: true,
            //String - A legend template
        };



        // var pieData = [
        //     {
        //         value: 10000,
        //         color: "#CAF27D",
        //         highlight: "#CAF27D",
        //         label: "Grey"
        //     },
        //     {
        //         value: 15000,
        //         color: "#D9F4B0",
        //         highlight: "#D9F4B0",
        //         label: "Grey"
        //     },
        //     {
        //         value: 20000,
        //         color: "#FFFFFF",
        //         highlight: "#FFFFFF",
        //         label: "Grey"
        //     },
        //     {
        //         value: 50000,
        //         color: "#00581E",
        //         highlight: "#00581E",
        //         label: "Blue"
        //     },
        //     {
        //         value: 60000,
        //         color: "#8CD600",
        //         highlight: "#8CD600",
        //         label: "Red"
        //     }
        // ];

        // // render chart
        // var ctx = document.getElementById("pieChart").getContext("2d");
        // var myNewChart = new Chart(ctx).Pie(pieData, pieOptions);


        
        // END PIE CHART

    })

</script>


<!--<script type="text/javascript">-->

<!--    $(document).ready(function () {-->

<!--        (async () => {-->

<!--        pageSetUp();-->

<!--        function getRandomColor() {-->
<!--            var letters = '0123456789ABCDEF';-->
<!--            var color = '#';-->
<!--            for (var i = 0; i < 6; i++) {-->
<!--                color += letters[Math.floor(Math.random() * 16)];-->
<!--            }-->
<!--            return color;-->
<!--        }-->

<!--        const getMachineChartTime = (result, name) => {-->
<!--            switch(name) {-->
<!--                case 'DASHBOARD_PIE_ALL': {-->
<!--                    let pieAll = [];-->
<!--                    result.map((item, index) => {-->
<!--						pieAll.push({...item, color: getRandomColor()})-->
<!--                    });-->
<!--                    return pieAll-->
<!--                }-->
<!--                case 'DASHBOARD_PIE_MACHINES': {-->
<!--                    let pieFive = [];-->
<!--                    result.map((item, index) => {-->
<!--						pieFive.push({...item, color: getRandomColor()})-->
<!--                    });-->
<!--                    return pieFive-->
<!--                }-->
<!--                case 'DASHBOARD_WEEKLY_SALES': {-->
<!--                    let appSales = [], cashSales = [], cashlessSales = [], data = [];-->
<!--                    result.map((item, index) => {-->
<!--						appSales.push(item.APP_SALES);-->
<!--						cashSales.push(item.CASH_SALES);-->
<!--						cashlessSales.push(item.CONTACTLESS_SALES);-->
<!--						data.push(item.TXN_DATE);-->
<!--                    });-->
<!--                    return {appSales, cashSales, cashlessSales, data}-->
<!--                }-->
<!--                case 'DASHBOARD_CASH_DROP': {-->
<!--                    let time = [], downtime = [], uptime = [];-->
<!--                    result.map((item, index) => {-->
<!--                        time.push(item.time);-->
<!--                        downtime.push(item.downtime);-->
<!--                        uptime.push(item.uptime);-->
<!--                    });-->
<!--                    return {downtime, uptime, time}-->
<!--                }-->
<!--                default:-->
<!--                    return;-->
<!--            }-->
<!--		}-->

<!--	    const response1 = await fetch('http://localhost:3000/DASHBOARD_PIE_ALL');-->
<!--	    const res1 = await response1.json();-->
<!--        const pieAll = getMachineChartTime(res1, 'DASHBOARD_PIE_ALL');-->

<!--        const response2 = await fetch('http://localhost:3000/DASHBOARD_PIE_MACHINES');-->
<!--	    const res2 = await response2.json();-->
<!--        const pieFive = getMachineChartTime(res2, 'DASHBOARD_PIE_MACHINES');-->

<!--        const response3 = await fetch('http://localhost:3000/DASHBOARD_WEEKLY_SALES');-->
<!--	    const res3 = await response3.json();-->
<!--        const {appSales, cashSales, cashlessSales, data} = getMachineChartTime(res3, 'DASHBOARD_WEEKLY_SALES');-->

<!--        const response4 = await fetch('http://localhost:3000/DASHBOARD_CASH_DROP');-->
<!--	    const res4 = await response4.json();-->
<!--        const {downtime, uptime, time} = getMachineChartTime(res4, 'DASHBOARD_CASH_DROP');-->

<!--        var lineOptions = {-->
<!--            ///Boolean - Whether grid lines are shown across the chart-->
<!--            scaleShowGridLines: true,-->
<!--            //String - Colour of the grid lines-->
<!--            scaleGridLineColor: "rgba(0,0,0,.05)",-->
<!--            //Number - Width of the grid lines-->
<!--            scaleGridLineWidth: 1,-->
<!--            //Boolean - Whether the line is curved between points-->
<!--            bezierCurve: true,-->
<!--            //Number - Tension of the bezier curve between points-->
<!--            bezierCurveTension: 0.4,-->
<!--            //Boolean - Whether to show a dot for each point-->
<!--            pointDot: true,-->
<!--            //Number - Radius of each point dot in pixels-->
<!--            pointDotRadius: 4,-->
<!--            //Number - Pixel width of point dot stroke-->
<!--            pointDotStrokeWidth: 1,-->
<!--            //Number - amount extra to add to the radius to cater for hit detection outside the drawn point-->
<!--            pointHitDetectionRadius: 20,-->
<!--            //Boolean - Whether to show a stroke for datasets-->
<!--            datasetStroke: true,-->
<!--            //Number - Pixel width of dataset stroke-->
<!--            datasetStrokeWidth: 3,-->
<!--            //Boolean - Whether to fill the dataset with a colour-->
<!--            datasetFill: true,-->
<!--            //Boolean - Re-draw chart on page resize-->
<!--            responsive: true,-->
<!--            //String - A legend template-->
<!--        };-->
<!--        console.log(data, time);-->
<!--        var lineData = {-->
<!--            labels: data,-->
<!--            datasets: [-->
<!--                {-->
<!--                    label: "My First dataset",-->
<!--                    fillColor: "rgba(0,0,0,0)",-->
<!--                    strokeColor: "#00581E",-->
<!--                    pointColor: "#00581E",-->
<!--                    pointStrokeColor: "#00581E",-->
<!--                    pointHighlightFill: "#00581E",-->
<!--                    pointHighlightStroke: "#00581E",-->
<!--                    data: appSales-->
<!--                },-->
<!--                {-->
<!--                    label: "My Second dataset",-->
<!--                    fillColor: "rgba(0,0,0,0)",-->
<!--                    strokeColor: "#FFB200",-->
<!--                    pointColor: "#FFB200",-->
<!--                    pointStrokeColor: "#FFB200",-->
<!--                    pointHighlightFill: "#FFB200",-->
<!--                    pointHighlightStroke: "#FFB200",-->
<!--                    data: cashSales-->
<!--                },-->
<!--                 {-->
<!--                     label: "My Second dataset",-->
<!--                     fillColor: "rgba(0,0,0,0)",-->
<!--                     strokeColor: "#8CD600",-->
<!--                     pointColor: "#8CD600",-->
<!--                     pointStrokeColor: "#8CD600",-->
<!--                     pointHighlightFill: "#8CD600",-->
<!--                     pointHighlightStroke: "#8CD600",-->
<!--                     data: cashlessSales-->
<!--                 }-->
<!--            ]-->
<!--        };-->

<!--        // render chart-->
<!--        var ctx = document.getElementById("lineChart").getContext("2d");-->
<!--        var myNewChart = new Chart(ctx).Line(lineData, lineOptions);-->

<!--        // BAR CHART-->

<!--        var barOptions = {-->
<!--            //Boolean - Whether the scale should start at zero, or an order of magnitude down from the lowest value-->
<!--            scaleBeginAtZero: true,-->
<!--            //Boolean - Whether grid lines are shown across the chart-->
<!--            scaleShowGridLines: true,-->
<!--            //String - Colour of the grid lines-->
<!--            scaleGridLineColor: "rgba(0,0,0,.05)",-->
<!--            //Number - Width of the grid lines-->
<!--            scaleGridLineWidth: 1,-->
<!--            //Boolean - If there is a stroke on each bar-->
<!--            barShowStroke: true,-->
<!--            //Number - Pixel width of the bar stroke-->
<!--            barStrokeWidth: 1,-->
<!--            //Number - Spacing between each of the X value sets-->
<!--            barValueSpacing: 0,-->
<!--            //Number - Spacing between data sets within X values-->
<!--            barDatasetSpacing: 0,-->
<!--            //Boolean - Re-draw chart on page resize-->
<!--            responsive: true,-->
<!--            //String - A legend template-->
<!--        }-->

<!--        var barData = {-->
<!--            labels: time,-->
<!--            datasets: [-->
<!--               {-->
<!--                   label: "My First dataset",-->
<!--                   fillColor: "#D9F4B0",-->
<!--                   strokeColor: "#D9F4B0",-->
<!--                   highlightFill: "#D9F4B0",-->
<!--                   highlightStroke: "#D9F4B0",-->
<!--                   data: downtime-->
<!--               },-->
<!--               {-->
<!--                   label: "My Second dataset",-->
<!--                   fillColor: "#8CD600",-->
<!--                   strokeColor: "#8CD600",-->
<!--                   highlightFill: "#8CD600",-->
<!--                   highlightStroke: "#8CD600",-->
<!--                   data: uptime-->
<!--               }-->
<!--            ]-->
<!--        };-->

<!--        // render chart-->
<!--        var ctx = document.getElementById("barChart").getContext("2d");-->
<!--        var myNewChart = new Chart(ctx).Bar(barData, barOptions);-->

<!--        // END BAR CHART-->

<!--        // PIE CHART-->

<!--        var pieOptions = {-->
<!--            //Boolean - Whether we should show a stroke on each segment-->
<!--            segmentShowStroke: true,-->
<!--            //String - The colour of each segment stroke-->
<!--            segmentStrokeColor: "#fff",-->
<!--            //Number - The width of each segment stroke-->
<!--            segmentStrokeWidth: 0,-->
<!--            //Number - Amount of animation steps-->
<!--            animationSteps: 100,-->
<!--            //String - types of animation-->
<!--            animationEasing: "easeOutBounce",-->
<!--            //Boolean - Whether we animate the rotation of the Doughnut-->
<!--            animateRotate: true,-->
<!--            //Boolean - Whether we animate scaling the Doughnut from the centre-->
<!--            animateScale: false,-->
<!--            //Boolean - Re-draw chart on page resize-->
<!--            responsive: true,-->
<!--            //String - A legend template-->
<!--        };-->



<!--        // var pieData = [-->
<!--        //    {-->
<!--        //        value: 10000,-->
<!--        //        color: "#CAF27D",-->
<!--        //        highlight: "#CAF27D",-->
<!--        //        label: "Grey"-->
<!--        //    },-->
<!--        //     {-->
<!--        //         value: 15000,-->
<!--        //         color: "#D9F4B0",-->
<!--        //         highlight: "#D9F4B0",-->
<!--        //         label: "Grey"-->
<!--        //     },-->
<!--        //     {-->
<!--        //         value: 20000,-->
<!--        //         color: "#FFFFFF",-->
<!--        //         highlight: "#FFFFFF",-->
<!--        //         label: "Grey"-->
<!--        //     },-->
<!--        //     {-->
<!--        //         value: 50000,-->
<!--        //         color: "#00581E",-->
<!--        //         highlight: "#00581E",-->
<!--        //         label: "Blue"-->
<!--        //     },-->
<!--        //     {-->
<!--        //         value: 60000,-->
<!--        //         color: "#8CD600",-->
<!--        //         highlight: "#8CD600",-->
<!--        //         label: "Red"-->
<!--        //     }-->
<!--        // ];-->

<!--        // render chart-->
<!--        var ctx = document.getElementById("pieChart").getContext("2d");-->
<!--        var myNewChart = new Chart(ctx).Pie(pieFive, pieOptions);-->


<!--        // var pieData1 = [-->
<!--        //   {-->
<!--        //       value: 5000,-->
<!--        //       color: "#00581E",-->
<!--        //       highlight: "#00581E",-->
<!--        //       label: "Grey"-->
<!--        //   },-->
<!--        //    {-->
<!--        //        value: 2000,-->
<!--        //        color: "#8CD600",-->
<!--        //        highlight: "#8CD600",-->
<!--        //        label: "Grey"-->
<!--        //    }-->
<!--        // ];-->
<!--        var ctx = document.getElementById("pieChart1").getContext("2d");-->
<!--        var myNewChart = new Chart(ctx).Pie(pieAll, pieOptions);-->
<!--        // END PIE CHART-->
<!--        })()-->
<!--    })-->

<!--</script>-->
</html>
